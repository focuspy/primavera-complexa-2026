<!doctype html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <title>Cronograma – Primavera Complexa 2026</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
      body {
        font-family:
          system-ui,
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        margin: 20px;
        background: #f7f7f7;
      }
      #chart-container {
        max-width: 1000px;
        margin: 0 auto;
        background: #ffffff;
        border-radius: 8px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        padding: 20px 24px 10px 24px;
      }
      h2 {
        margin-top: 0;
        font-size: 1.4rem;
      }
      p.desc {
        color: #555;
        font-size: 0.95rem;
      }
    </style>
  </head>
  <body>
    <div id="chart-container">
      <h2>Cronograma das fases do Exercício "Primavera Complexa 2026"</h2>
      <p class="desc">
        O gráfico em formato Gantt mostra as principais fases do exercício. Pode
        passar o rato para ver datas exactas e usar as ferramentas de zoom.
      </p>
      <div id="chart" style="width: 100%; height: 520px"></div>
    </div>

    <script>
      // Tarefas e datas – ajusta se quiseres
      const tarefas = [
        "Preparação",
        "Execução – Cenário C1-A",
        "Execução – Cenário C2-B",
        "Pós-exercício",
      ];

      const inicio = ["2024-09-01", "2026-05-01", "2026-05-10", "2026-06-01"];

      const fim = ["2025-04-30", "2026-05-07", "2026-05-15", "2026-10-31"];

      const cores = ["#2a9d8f", "#e9c46a", "#f4a261", "#264653"];

      const barras = tarefas.map((tarefa, i) => {
        return {
          type: "bar",
          x: [new Date(fim[i]) - new Date(inicio[i])],
          y: [tarefa],
          base: [inicio[i]],
          orientation: "h",
          marker: {
            color: cores[i],
            line: { color: "#333", width: 0.5 },
          },
          hovertemplate:
            "<b>" +
            tarefa +
            "</b><br>" +
            "Início: %{base|%d-%m-%Y}<br>" +
            "Fim: " +
            new Date(fim[i]).toLocaleDateString("pt-PT") +
            "<extra></extra>",
          showlegend: false,
        };
      });

      const layout = {
        barmode: "stack",
        xaxis: {
          type: "date",
          title: "Data",
          tickformat: "%b %Y",
          gridcolor: "#eee",
        },
        yaxis: {
          automargin: true,
        },
        margin: { t: 50, l: 190, r: 40, b: 80 },
        title: {
          text: "Cronograma das principais fases do exercício",
          font: { size: 18 },
        },
        plot_bgcolor: "#ffffff",
        paper_bgcolor: "#ffffff",
      };

      const config = {
        responsive: true,
        displaylogo: false,
        modeBarButtonsToRemove: ["lasso2d", "select2d"],
      };

      Plotly.newPlot("chart", barras, layout, config);
    </script>
  </body>
</html>
